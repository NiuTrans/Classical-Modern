○仆固怀恩梁崇义李怀光
仆固怀恩，铁勒部落仆骨歌滥拔延之曾孙，语讹谓之仆固。贞观二十年，铁勒九姓大首领率其部落来降，分置瀚海、燕然、金微、幽陵等九都督府于夏州，别为蕃州以御边，授歌滥拔延为右武卫大将军、金微都督。拔延生乙李啜拔，乙李啜拔生怀恩，世袭都督。天宝中，加左领军大将军同正员、特进。历事节度王忠嗣、安思顺，皆以善格斗，达诸蕃情，有统御材，委之心腹。及安禄山反，从郭子仪讨高秀岩于云中，破之，又败薛忠义于背度山下，抗贼七千骑，生擒忠义男，袭下马邑郡。十五载，进军与李光弼合势，及史思明战于常山、赵郡、沙河、嘉山，皆大破之，怀恩功居多。
肃宗即位于灵武，怀恩从郭子仪赴行在所。时同罗部落自西京叛贼，北寇朔方，子仪与怀恩击之。怀恩子玢领徒击贼，兵败而降，寻又自拔而归，怀恩叱而斩之。将士慑骇，无不一当百，遂破同罗千余骑于河上，尽收其器械、驼马。肃宗虽仗朔方之众，将假蕃兵以张形势，乃遣怀恩与燉煌王承寀使于回纥，请兵结好。回纥可汗遂以女妻承寀，兼请公主，遣首领随怀恩入朝。二年正月，又从子仪下冯翊、河东二郡。走伪将崔乾祐，又袭破潼关。贼将安守忠、李归仁自京率众来援，苦战二日，官军败绩。怀恩退至渭水，无舟楫，抱马以渡，存者仅半，乃奔归子仪于河东，整其余众。四月，子仪赴凤翔，李归仁以劲卒五千邀之于三原北。子仪窘急，使怀恩及王升、陈回光、浑释之、李国贞等五将伏兵于白渠留运桥以待之，贼至伏发，归仁大败而走。又从子仪战于清渠，不利，归于凤翔。及回纥使叶护、帝得数千骑来赴国难，南蛮、大食之卒相继而至。肃宗乃遣广平王为元帅，以子仪为副，而怀恩领回纥兵从之澧水。贼伏兵于营东，怀恩引回纥驰杀之，匹马不归，贼乃大溃。日暮，怀恩谓王曰： 贼必弃城走矣，请以二百骑马追之，缚取李归仁、田乾真、安守忠、张通儒。 王曰： 将军战亦疲矣，且休息，迨明而后图之。 怀恩曰： 归仁、守忠，天下骁贼也，聚胜而败，此天与我也，奈何纵之不取？若使得众，复为我患，虽悔无及。夫战尚速，何明日为？ 王固止之，令还营。怀恩又固请，往而复反，一夕四五起。迟明谍至，守忠等果逃。又从王大破贼于陕西之新店，收两京，皆立殊功。以前后功加开府仪同三司、鸿胪卿同正员、同节度副使。十二月，封丰国公，食实封二百户。
乾元元年九月，遣九节度击安庆绪于相州。从郭子仪领朔方行营，破安太清，下怀、卫二州，围相州，战愁思岗。凡经五月，常为先锋，坚敌大阵，必经其战，勇冠三军。寻充都知兵马使。及李光弼代子仪，怀恩又副之。乾元二年，进封大宁郡王，迁御史大夫、朔方行营节度。又从李光弼守河阳，破周出，擒徐璜玉、安太清，拔怀州，皆摧锋陷敌，功冠诸将。其男瑒又以开府仪同三司从将兵于其军，每深入虏阵，以勇敢闻，军中号为 斗将 。
怀恩为人雄毅寡言，应对舒缓，而刚决犯上，始居偏裨之中，意有不合，虽主将必诟怒之。郭子仪为帅，以宽厚容众，素重怀恩，其麾下皆朔方蕃汉劲卒，恃功怙将，多为不法，子仪每事优容之，行师用兵，倚以辑事。而光弼持法严肃，法不贷下，怀恩心惮而颇不叶。上元二年，从李光弼与史思明战于邙山，不利。肃宗以怀恩功高，恩顾特异诸将，至冬，加工部尚书，敕李辅国及常参官送上，太官造食以宠之。
代宗即位，拜陇右节度，未行，改朔方行营节度，以副郭子仪。其秋，上使中官刘清潭请兵于回纥登里可汗，登里已为史朝义诱之倾国入塞，众号十万，关中骚扰，上使殿中监乐子昂驰于塞上劳之，遇于忻州。先是，肃宗以宁国公主下嫁于毗伽阙可汗，毗伽阙可汗又以少子请婚，肃宗以怀恩女妻之。毗伽可汗死，少子代立，即登里可汗。登里立，以怀恩女为可敦。至是，可汗请与怀恩及怀恩之母相见，诏从之。怀恩嫌疑不敢，上因赐铁券，手诏以遣之，即令其母便发。怀恩与回纥可汗相见于太原，可汗大悦，遂许助讨朝义，于是进兵，历太原、汾、晋，营于陕州以俟期。十月，诏天下兵马元帅雍王为中军先锋，以怀恩为副，加同中书门下平章事，领河东、朔方节度行营及镇西、回纥兵马赴陕州，并令诸道节度一时齐进。怀恩与回纥左杀为先锋，观军容使鱼朝恩、陕州节度郭英乂为后殿，自渑池入；陈郑节度李抱玉自河阳入；河南副元帅、雍王留陕州。怀恩等师至黄水，贼徒数万，坚栅自固。怀恩阵于西原上，广张旗帜以当之，命骁骑及回纥之众傍南山出于东北，两军举旗内应，表里击之，一鼓而拔，贼死者数万。朝义领铁骑十万来救，阵于昭觉寺，贼皆殊死决战，短兵既接，相杀甚众。官军骤击之，贼阵而不动。鱼朝恩令射生五百人下马，弓弩乱发，多中贼而死，阵亦如初。镇西节度使马璘曰： 事急矣！ 遂援旗而进，单骑奔击，夺贼两牌，突入万众之中，左右披靡，大军乘之而入，朝义大败，斩首一万六千级，生擒四千六百人，降者三万二千人。转战于石榴园、老君庙，贼党又败，人马蹂践，填于尚书谷，朝义轻骑而走。怀恩乃进收东京及河阳城，封其府库，伪中书令许叔冀、王伷等，承制释之，悉皆安堵。
怀恩留回纥可汗营于河阳，乃使其子右厢兵马使瑒、北庭朔方兵马使高辅成以步军万余众乘胜逐北。怀恩常压贼而行，至于郑州，再战皆捷；进至汴州，伪节度张献诚开门降；又拔滑州，追破朝义于卫州。伪睢阳节度田承嗣、李进超、李达卢等兵马四万余众，又与朝义合，据河来拒。瑒连盘济师，登岸薄之，贼党悉奔，长驱至昌县东。朝义率魏州兵马来战，又败走，达卢来降，贼徒震骇。于是相州伪节度薛嵩以相、卫州、洺、邢、赵降于李抱玉、高辅成、尚文悊；伪恆阳节度李宝臣以深、恆、定、易四州降于河东节度辛云京。朝义至贝州，又与伪大将薛忠义两节度合。瑒至临清，惧贼气盛，驻军以俟变。朝义领众三万并攻具来攻，瑒令高彦崇、浑日进、李光逸等设三伏以待之，贼半渡，伏发，合击而走之。其时回纥又至，官军益振，瑒卷甲驰之，大战于下博县东南。贼背水而阵，大军冲击而崩之，积尸拥流而下。朝义又走莫州。于是河南副元帅都知兵马使薛兼训、兵马使郝廷玉、兗郓节度使辛云京会师于下博，进军莫州城下。朝义与田承嗣频出挑战，大败而旋，临阵杀其伪尚书敬荣。朝义惧，自分万余众投归义县，留承嗣守城。于是淄青节度侯希逸继诸将同为攻守，凡月余日。瑒与高彦崇、侯杀逸、薛兼训等以众三万追及朝义于归义县，交锋而贼溃。属幽州节度使李怀仙送降款，瑒顿兵于其境，遣怀仙分兵追蹑。二年三月，朝义至平州石城县温泉栅，穷蹙，走入长林自缢，怀仙使妻弟徐有济传其首以献。又降田承嗣之军，河北悉平，怀恩乃与诸将班师。
先是，去冬郭子仪以怀恩有平定河朔之功，让位于怀恩，遂授河北副元帅、尚书左仆射、兼中书令、灵州大都督府长史、单于镇北大都护、朔方节度使，仍加实封四百户，通前一千户。春，又加太子少师，充朔方都知兵马使、同节度副大使，食实封五百户，庄宅各一所，仍与一子五品官。高辅成太子少傅、兼御史中丞，充河北副元帅都知兵马使，加实封三百户，仍与一子五品官。高彦崇太子宾客，仍旧朔方右厢兵马使，实封二百户，庄宅各赐一所，与一子五品官。
遂诏怀恩统可汗还蕃，遂自相州西郭口趣潞州，与回纥可汗会，出太原之北。怀恩初至太原，辛云京以可汗是其子婿，疑其召戎，闭关不报，且惧可汗相袭，不敢犒军；及还，亦如之。怀恩父子宣力王室，攻城野战，无役不从，一举灭史朝义，复燕、赵、韩、魏之地，自以为功无以让。至是，又为云京所拒，怀恩怒，上表列其状，顿军汾州。会中官骆奉先使于云京，云京言怀恩与可汗为约，逆状已露，乃与奉先厚结欢。奉先回至怀恩所，其母数让奉先曰： 尔等与我兒约为兄弟，今又亲云京，何两面乎？虽然，前事勿谕，自今母子兄弟如初。 酒酣，怀恩起舞，奉先赠缠头彩。怀恩将酬其贶，奉先遽告发，怀恩曰： 明日端午，请宿为令节。 奉先固辞，怀恩苦邀之，命藏其马。中夕谓其从者曰： 向者责吾，又收吾马，是将害我也。 奉先惧，遂逾垣而走。怀恩惊，遽令追还其马。奉先使回，奏其反状。怀恩累奏请诛云京、奉先，上以云京有功，手诏和解之，怀恩遂有贰于我。至七月，改元广德，册勋拜太保，仍与一子三品、一子四品官并阶，仍加实封五百户。仆固瑒一子五品官，加实封一百户。仍赐铁券，以名藏太庙，画像于凌烟阁。寻以瑒为御史大夫、朔方行营节度。
怀恩以寇难已来，一门之内死王事者四十六人，女嫁绝域，再收两京，皆导引回纥，摧灭强敌，而为人媒孽，蕃性犷戾，怏怏不已。乃上书自叙功伐，曰：
广德元年八月二十三日，开府仪同三司、尚书左仆射、兼中书令、朔方节度副大使、河北副元帅、上柱国、大宁郡王臣怀恩，刺肝沥血，谨顿首顿首上书宝应圣文神武皇帝陛下：臣家本蕃夷，代居边塞，爰自祖父，早沐国恩。臣年未弱冠，即蒙上皇驱策，出入死生，竭力疆场，叨承先帝报功，时年已授特进。洎乎禄山作乱，大振王师，臣累任偏裨，决死靖难，上以安社稷，下以拯生灵，仗皇天之威神，灭狂胡之丑类。无何，思明继逆，又据东周，宸极不安，海内腾沸。臣谬承大行皇帝委任，授以兵权，誓雪国仇，以匡时难。阖门忠烈，咸愿杀身，野战攻城，皆先士卒。兄弟死于阵敌，子侄没于军前，九族之亲，十不存一，纵有在者，疮痍遍身。况陛下潜龙之时，亲统师旅，臣忝事麾下，陛下悉臣愚诚。大行皇帝未捐宫馆之时，臣频立微效，累沾官赏，遂被辅国等谗害，几至破家，便夺兵权，逾年宿卫。臣虽内省无疚，终惧谗佞倾危，以日继时，命悬秋叶，至将归骨泉壤，永谢明时。幸遇陛下龙跃天衢，继缵鸿业，知臣负谤，察臣丹心，遂开独见之明，杜绝众多之口，特拔臣于汧、陇，再任臣于朔方。诚谓游魂返骸，枯骨再肉，使臣得竭驽蹇之力，效锥刀之功，上答陛下再造之恩，下展微臣犬马之志。
去年秋末，回纥伏义而来，士庶不知，悉皆惊骇。陛下以臣与其姻娅，令至太原祗迎，一切事宜，许臣逐便处置。遂与可汗计议，分道用兵，克复洛阳，平荡幽、蓟，惟有神策兵马，顿军独住陈留。可汗时在洛阳，即被朝恩猜阻，要为流议，已失蕃情。臣自平贼却回，天恩又令饯送，臣遂罄竭家产，为国周旋，发遣外蕃，贵图上道。行至山北，被奉先、云京共生异见，妄作加诸，闭城不出祗迎，仍令潜行窃盗。蕃夷怨怒，早欲相仇，臣遂弥缝，方得出界。及其祖饯事了，回至太原，臣忝迹鼎司，又承重寄，奉先、云京曾无礼数，闭关不出相看。臣遂过汾州，休息士马，凡经数日，不遣一介知闻。自以行事乘疏，恐臣先有论奏，遂乃构其谤黩，妄起异端，扇动军城，以为设备。又臣从潞府过日，见抱玉只迎回纥，庶事用心，恳称家资罄于公用，又与臣马兼银器四事，臣于回纥处得绢，便与抱玉二千匹以充答赠。今被抱玉共相组织，将此往来之贶，便为结托之私，贵在厚诬，务相倾夺。陛下不垂明察，采听流言，欲令忠直之臣，枉陷谗邪之党。臣实不欺天地，不负神明，夙夜三思，臣罪有六：
往年同罗背叛，河曲骚然，经略数军，兵围不解。臣不顾老母，走投灵州，先帝嘉臣忠诚，遂遣征兵讨叛，使得河曲清泰，贼徒奔亡。是臣不忠于国，其罪一也。臣男玢尝被同罗虏将，盖亦制不由己，旋即弃逆归顺，却来投臣，臣斩之以令士众。且臣不爱骨肉之重，而徇忠义之诚，是臣不忠于国，其罪二也。臣有二女，俱聘远蕃，为国和亲，合从讨难，致使贼徒殄灭。寰宇清平。是臣不忠于国，其罪三也。臣及男瑒，不顾危亡，身先行阵，父子效命，志宁邦家。是臣不忠于国，其罪四也。陛下委臣副元帅之权，令臣指麾河北。其新附节度使，皆握强兵，臣之抚绥，悉安反侧，州县既定，赋税以时。是臣不忠于国，其罪五也。臣叶和回纥，戡定凶徒，天下削平，蕃夷归国，使其永为邻好。义著急难，万姓安宁，干戈止息，二圣山陵事毕，陛下忠孝两全。是臣不忠于国，其罪六也。臣既负六罪，诚合万诛，延颈辕门，以待斧钅质。过此以往，更无他违。陛下若以此诛臣，何异伍子胥存吴，卒浮尸于江上，大夫种霸越，终赐剑于稽山。唯当吞恨九泉，衔冤千古，复何诉哉！复何诉哉！
且葵藿尚解仰阳，犬马犹能恋主，臣忝恩至重，委任非轻，夙夜思奉天颜，岂暂心离魏阙，诚恐以忠获罪，龟镜不遥。顷者来瑱受诛，朝廷不示其罪，天下忠义，从此生疑。况来瑱功业素高，人多所忌，不审圣衷独断，复为奸臣弄权？臣欲入朝，恐罹斯祸，诸道节度使皆惧，非臣独敢如此。近闻追诏数人，并皆不至，实畏中官谗口，又惧陛下损伤，岂唯是臣不忠，只为回邪在侧。且臣前后所奏骆奉先词情，非不摭实，陛下竟无处置，宠用弥深。皆由同类相从，致蒙蔽圣聪，人皆惧死，谁复敢言！臣义切君臣，志忧社稷，若无极谏，有负圣朝，敢肆愚忠，以干鼎镬。况今西有犬戎背乱，东有吴、越不庭，均、房群盗纵横，鄜、坊稽胡草扰。陛下不思外御，而乃内忌忠良，何以混一车书，而使梯航纳赆？天下至大，岂可暂轻。
伏承四方敷奏之人，引对之时，陛下皆云与骠骑商量，曾不委宰臣可否。或有稽留数月，不放归还，远近之心，转加疑阻。且臣朔方将士，功效最高，为先帝中兴主人，是陛下蒙尘故吏，曾不别加优奖，却信嫉妒谤词，子仪先已被猜，臣今又遭毁黩。弓藏鸟尽，兔死犬烹，臣昔谓非，今方知实。且臣息军汾上，关键大开，收马放羊，曾无守备，分兵数郡，贵免般粮，劝课农桑，务安黎庶，有何状迹，而涉异端。陛下必信矫词，何殊指鹿为马？陛下倘斥逐邪佞，亲附忠良，蠲削狐疑，敷陈政化，使君臣无二，天下归心，则窥边之戎，不足为患，梗命之寇，将复何忧，偃武修文，其则不远。陛下若不纳愚恳，且贵因循，臣实不敢保家，陛下岂能安国！忠言利行，良药愈病，伏惟陛下图之。
臣今戎事已安，粮储且继，深愿一至阙下，披露心肝，再睹圣颜，万死无恨。臣欲公然进发，虑恐将士留连。臣今便托巡晋、绛等州，于彼迁延且住，谨遣押衙开府仪同三司、试太常卿张休臧先进书兼口奏事。伏惟陛下览臣此书，知臣诚恳，特垂圣断，勿议近臣，待臣如初，浮谤不入，臣当死节王命，誓酬国恩。仍请遣一介专使至绛州问臣，臣即便与同行，冀获蹈舞轩陛。鄙臣愚虑，不顾死亡，轻触天威，战汗无地。
九月，上以回纥近塞，怀恩又与辛云京有隙，上欲其悔过，推心以待之。恐其不信，诏召黄门侍郎裴遵庆使汾州喻旨，且察其去就。遵庆即至，怀恩抱其足号泣而诉，遵庆因宣圣恩优厚，讽令入朝，怀恩许诺。副将范志诚说之曰： 公以谗言交构，有功高不赏之惧，嫌隙已成，奈何入不测之朝？公不见来瑱、李光弼之事乎！功成而不见容，二臣以走诛。 怀恩然之。明日，又以惧死为辞，许令一子入朝，志诚又不可。遵庆复命。御史大夫王翊自回纥使还，怀恩与可汗往来，恐泄其事，乃止之。遂令子瑒率众攻云京，云京出战，瑒大败而旋，进围榆次，朝廷患之。先是，尚书右丞颜真卿请奉诏怀恩，上因以真卿为刑部尚书、兼御史大夫往宣慰之。真卿曰： 臣往请行者，时也；今方受命，事无益矣。 上问其故，对曰： 怀恩阻兵，是其反侧明矣。顷陛下避狄于陕郊，臣方责以《春秋》之义，云寡君蒙尘于郊，敢不恭问官守。当是时也，怀恩来朝，以助讨贼，则其辞顺。今陛下攘去犬戎，即宫京邑，怀恩进不勤王，退不释众，其辞曲，必不来矣。且明怀恩反者，独辛云京、李抱玉、骆奉先、鱼朝恩四人耳，自外朝臣，咸言其枉。然怀恩将士，皆子仪部曲，恩信结其心，陛下何不以子仪代之，喻以逆顺祸福，必相率而归耳。 上从之。子仪至河中，仆固瑒已为朔方兵马使张惟岳等四人斩其首，献于阙下。怀恩闻之，率麾下数百骑，弃其母，渡河北走灵武。余众闻子仪到，束甲来奔，归者数万。怀恩至灵武，啸聚亡命，其众复振。上念其勋旧，不欲罪功臣，厚抚其家，怀恩终不从。其母月余日竟以寿终。又遥授太师、兼中书令、大宁王，余并停。
是秋为乡导，诱吐蕃十万入寇泾、邠州，祭来瑱之墓，自序云 俱遭放逐 。寇奉天、醴泉，郭子仪拒之而退。永泰元年，上征天下兵以防之。怀恩又纠合诸蕃，众号二十万，南犯京师：遣吐蕃之众自北道先寇醴泉、奉天，任敷、郑庭、郝德自东道寇奉先、同州，羌、浑、奴剌之众自西道寇盩厔、凤翔。朝廷大骇，诏遣郭子仪屯泾阳，浑日进、白元光屯奉天，李光时进屯云阳，马璘、郝廷玉屯中渭桥，董秦屯东渭桥，骆奉先、李日越屯盩厔，李抱玉屯凤翔，周智光、杜冕屯同州。上亲率六军，令鱼朝恩屯苑中，下诏亲征。怀恩领回纥及朔方之众继进，行至鸣沙县，遇疾舁归。九月九日，死于灵武，部曲以乡法焚而葬之。张韶代领其众，为徐璜玉所杀；璜玉领其众，又为范志诚所杀，志诚领其众。回纥进寇泾阳，诸军坚壁不战。吐蕃相持二十余日，又闻怀恩死，与回纥争长，自相疑贰，莫敢先进，遂大掠居人，焚烧舍宇，驱男女数万而去，所过践禾谷殆尽。回纥乃诣子仪降，请击吐蕃以自效。子仪分兵随之，大破吐蕃于泾州界。任敷又败走，羌、浑又多降于李抱玉。
怀恩逆命三年，再犯顺，连诸蕃之众，为国大患，士不解甲，粮尽馈军，适幸天亡，而上为之隐恶，前后下制，未尝言其反。及怀恩死，群臣以闻，上为之悯默曰： 怀恩不反，为左右所误。 其宽仁如此。闰十月，怀恩侄名臣领千余骑来降。
梁崇义，长安人。以升斗给役于市，有膂力，能卷金舒钩。后为羽林射生，从来瑱于襄阳。沉默寡言，众悦之，累迁为偏裨。瑱朝京师，分使诸将戍福昌、南阳。来瑱被诛，戍者皆溃归。崇义时在南阳，统归师径入襄州，与同列李昭、薛南阳相让为长，不决。诸将请曰： 兵非梁卿主之不可。 遂推崇义为帅。宝应二年三月，崇义杀昭与南阳，以胁众心，朝廷因授其节度焉。以襄州荐履兵祸，屈法含容，姑务息人也。历御史中丞、大夫、尚书。遂与田承嗣、李正己、薛嵩、李宝臣为辅车之势，奄有襄、汉七州之地，带甲二万，连结根固，未尝朝觐，然于群凶，地最褊，兵最少，法令最理，礼貌最恭。其地跨东南之冲，数有王命之所宣洽，故其人知化。所亲尝劝其来朝，崇义曰： 吾本帅来公有大勋庸，当上元中以阉竖谗讟，逡巡稽召，及代宗嗣位，不俟驾行，旋见诛族。今吾衅盈而事久，若之何见上。 
建中元年，淮西节度使李希烈数请兴师讨崇义，崇义惧，军旅之事加严焉。流人郭昔告其为变，崇义闻之，请罪昔，坐决杖配流，命金部员外郎李舟谕旨以安之。初，刘文喜作难，舟尝入其城说利害，文喜拘之，会帐下杀文喜而降。四方反侧者闻之，谓舟必能覆军杀将，是以皆恶。及舟至，又劝其入觐，言颇切直，崇义益不悦。二年春，发五使宣谕诸道，而舟复如荆、襄，崇义虑有变，拒境不纳，上言 军中疑惧，请换他使 。由是益不安，凶谋日深，宾僚或有忠言沮劝，多遭伤害。
时群凶方自疑阻，朝廷将仗大信，欲来而安之，以示天下。仍加崇义同平章事，其妻子悉加封赏，且赐铁券誓之，兼授其裨将蔺杲为邓州刺史，遣御史张著赉手诏征之。崇义益恐怖，使持满而受命。蔺杲奉诏书，又不敢发，驰诣崇义请命，崇义益疑惧，对著号哭，不受诏。由是征四方兵，使希烈统击之。崇义乃发兵攻江陵，以通黔、岭，及四望，大败而归，遂屯襄、邓。希烈先发千余人守临汉，崇义屠之，无遗噍。既而希烈统大军缘汉而上，崇义使将翟晖、杜少诚迎战于蛮水，希烈大破之；复合于涑口，又破之。二将求降，希烈受之，使统本兵入襄阳号令，以安百姓。崇义领亲兵老小闭壁，将守者斩关争出，不可止。其年八月，崇义与其妻投井而死，传首阙下。其亲戚希烈皆戮之，选其尝从临汉之役者三千人，悉斩之。
李怀光，渤海靺鞨人也。本姓茹，其先徙于幽州，父常为朔方列将，以战功赐姓氏，更名嘉庆。怀光少从军，以武艺壮勇称，朔方节度使郭子仪礼之益厚。上元中，累迁试太仆、太常卿，主右衙兵将，积功劳至开府仪同三司，为朔方军都虞候。永泰初，实封三百户。大历六年，兼御史中丞，间一年，兼御史大夫，加为军都虞候。性清勤严猛，而敢诛杀，虽亲戚犯法，皆不挠避。子仪性宽厚，不亲军事，纪纲任怀光，军中尤畏之，亦称为理。十二年，以母忧罢职。明年，起复本官，仍兼邠、宁、庆三州都将。德宗即位，罢子仪节度副元帅，以其所部分隶诸将，遂以怀光起复检校刑部尚书，兼河中尹、邠州刺史、邠宁庆晋降慈隰节度支度营田观察押诸蕃部落等使。先是，怀光频岁率师城长武以处军士，城据原首，临泾水，俯瞰通道，吐蕃自是不敢南侵，为西边要防矣。建中初，泾原四镇节度使段秀实为宰相杨炎所恶，征为司农卿。上将复城原州，乃以怀光兼泾州刺史、泾原四镇北庭节度使。时怀光挟私怨，亲诛杀朔方旧将温儒雅等数人，泾州军士咸畏之。刘文喜因众不欲，遂以城叛。诏硃泚与怀光将兵讨平之，加检校太子少师。二年，迁检校左仆射，兼灵州大都督、单于镇北大都护、朔方节度支度营田观察盐池押诸蕃部落六城水运使，实封四百户。邠宁节度等使如故。
时马燧、李抱真诸军同讨魏城未拔，硃滔、王武俊皆反，连兵救悦。三年，诏遣怀光统朔方兵步骑一万五千同讨田悦。怀光勇而无谋，至魏城之日，营垒未设，因与滔等大战于惬山，为滔等所败。复为悦决水以灌之，诸军不利，因与燧等退军于魏县。寻加同平章事，益实封二百户。自是与滔等相持不战。明年十月，泾原之卒叛，上居奉天。硃泚既僭大号，遣中使驰告河北诸帅，怀光率军奔命。时属泥淖，怀光奋厉军士，道自蒲津渡河，败泚骑兵于醴泉，直赴奉天。前数日，先遣裨将张韶持表封蜡丸随贼攻城，乘间逾堑，呼城上人曰： 朔方军使也。 乃以绳引上城而入，比登堞，身中数十矢。时上在重围中，守拒益急，既知怀光军至，令张韶号令于城上，人心乃安。怀光又败泚兵于鲁店，泚乃解兵还走入城。
怀光性粗厉疏愎，缘道数言卢杞、赵赞、白志贞等奸佞，且曰： 天下之乱，皆此辈也，吾见上，当请诛之。 杞等微知之，惧甚，因说上令怀光乘胜逐泚，收复京师，不可许至奉天，德宗从之。怀光屯军咸阳，数上表暴扬杞等罪恶，上不得已为贬杞、赵赞、白志贞以慰安之。又疏中使翟文秀，上之信任也，又杀之。怀光既不敢进军，迁延自疑，因谋为乱。初，诏遣崔汉衡使于吐蕃，出兵佐收京城，蕃相尚结赞曰： 蕃法，进军以统兵大臣为信。今奉制书，无怀光名署，故不敢前。 上闻之，遣翰林学士陆贽诣怀光议用蕃军，怀光坚执言不可者三，不肯署制，词慢，且谓贽曰： 尔何所能？ 兴元元年二月，诏加太尉，兼赐铁券，遣李升及中使邓鸣鹤赉券喻旨。怀光怒甚，投券于地曰： 凡人臣反，则赐铁券，今授怀光，是使反也。 词气益悖，众为之惧。时怀光部将韩游瑰掌兵在奉天，怀光乃与游瑰书，约令为变，游瑰密奏之。翌日，怀光又使趣之，游瑰复奏闻。数日，怀光又使趣游瑰，为门者所捕。怀光且宣言曰： 吾今与硃泚连和，车驾当须引避。 由是上遽幸梁州。时李晟已移军东渭桥，怀光复劫李建徽、杨惠元等军，移于好畤，其下颇多携贰。先是硃泚甚畏之，至是因欲臣之。怀光虏劫无所得，益疑惧不自安，居二旬，乃驱兵分为部队，掠泾阳、三原、富平，自同州往河中。神策将孟涉、段威勇自三原拥兵三千余人奔归李晟，怀光不能遏。韩游瑰杀怀光留后张昕，以邠州从顺。戴休颜自奉天令于军曰： 怀光已反。 乃令城守驰表以闻。上于是授游瑰、休颜节度使。乃除怀光太子太保，罢其余官，其所管委本军择一人功高望崇者统之，皆不奉诏。四月，怀光至河中，遂偷有同、绛等州，按兵观望。
李晟既收复京师，上遣给事中孔巢父、中使啖守盈持诏征之，怀光素服受命。巢父乃宣言于众： 太尉军中谁可领军事者？ 怀光左右皆胡虏，因发怒，乱持兵杀巢父及守盈，自是缮兵益修守拒。上还京师，以侍中浑瑊为河中节度副元帅，将兵讨怀光。瑊复破同州，屯军不进，数为怀光所败。时仍岁旱蝗，京师初复，经费不给，言事者多请赦怀光。时河东、节度使马燧威名素著，乃加燧副元帅，与瑊及镇国军节度骆元光、邠宁节度韩游瑰、鄜坊节度唐朝臣会兵同讨怀光。燧率军拔绛州，至宝鼎，虑怀光西走，唐突京邑，乃舍军朝京师。既还，与瑊先自河东而降其骁将尉珪、徐庭光，统诸军以围河中。贞元元年秋，朔方部将牛名俊斩怀光首以降燧瑊隹刃其弟数人，乃自杀。怀光死时年五十七。寻诏以男一人为嗣，赐庄宅各一所，仍还怀光尸首，任其收葬，妻子并徙澧州。五年，又诏曰：
怀旧念功，仁之大也；兴灭继绝，义之弘也。昔蔡叔圮族，周公封其子于东土；韩信干纪，汉后爵其孥以弓高。侯君集之不率景化，我太宗存其胤以主祀。详考先王之道，洎乎烈祖之训，皆以刑佐德，俾人向方，则斧钺之诛，甲兵之伐，盖不得已而用也。曩岁盗臣窃发，国步多虞，朕狩于近郊，指期薄伐，将振昆阳之旅，以兴涿鹿之功，征师未达于诸侯，卫士且疲于七萃。而李怀光三军夙驾，千里勤王，上假雷霆之威，下逐虎狼之众。议功方始，守节靡终，潜构祸胎，拒违朝命，弃同即异，舍顺效逆。为臣至此，在法必诛，犹示绥怀，庶其牵复。而枭音益厉，犭希突莫迁，大戮所加，曾无噍类。虽自贻伊戚，与众弃之，而言念尔劳，何嗟及矣！以其前效犹在，孤魂无归，怀之怳然，是用忄妻轸。予欲布陈大惠，冀以化成，保合太和，期于刑措。宜以怀光外孙燕八八赐姓李氏，名承绪，授左卫率府胄曹参军，承怀光之后。仍赐钱一千贯，任于怀光墓侧置立庄园，侍养怀光妻王氏，并备四时享奠之礼。呜呼！朕实不德，临于兆人，泣辜宥罪，素诚所志。尔其保姓受氏，宣力承家，勉绍乃考之建国庸，无若尔父之违王命。
初，怀光授首，其子琟、瑗等皆死，唯妻王氏在，故上特舍其死。及是又思怀光旧勋，哀其绝后，乃命承绪继之。
史臣曰：仆固怀恩、李怀光，咸以勇力，有劳王家，为臣不终，遂行反噬，其罪大矣。然辛云京、骆奉先、卢杞、白志贞辈，致彼二逆，贻忧时君，亦可谓国之谗贼矣。梁崇义既无令始，又无善终，与妻投泉，何塞其咎。
赞曰：臣之事君，有死无二。怀恩、怀光，凶终一致。崇义多奸，国家所弃。迷而亡归，自速其毙。
